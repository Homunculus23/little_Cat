{"mappings":"AAAAA,EAAE,mBAAmBC,GAAG,SAAS,KACPC,OAAOC,QAAQ,4EASnBD,OAAAE,eAAA,KACpBC,aAAAC,WAAA,OAGFC,SAAMC,YAEN,MAAMC,cAAeT,EAAA,iBACfU,YAAUV,EAAA,eACZW,SAAAF,cAAAG,KAAA,Y,QACUC,KAAOC,MAAAT,aAAAU,QAAA,M,QAAOC,SAAA,C,CACvBC,KAAA,QACDC,IAAA,wBACIC,UAAM,K,CACTF,KAAA,OACJC,IAAA,iBAEGC,UAAA,M,IAGHC,kBAAAF,GAGGA,EAAAG,QAAmB,eAAeA,QAAS,cAAAA,QAAA,W,OAEvC,K,cAMAT,KAAe,eAAcU,S,QACzBC,SAAO,CAAAC,EAAKC,KACdzB,EAAA,4BACHwB,EAAAN,6CAAAM,EAAAN,YAAAM,EAAAL,wDACNK,EAAAP,KAAA,iDAEQO,EAAAP,6CAGES,aAAUf,UACFV,GAAA,SAAY,KAGnBC,OAAGyB,KAAOH,EAAON,Y,kBAKxBjB,GAAA,cACD,IAAGiB,EAAChB,OACA0B,OAAA,cAES,IAAbV,EAAQW,QAAK,UAAAX,EAAA,WAAAA,G,IAETC,EADAF,EAAMf,OAAI0B,OAAA,qDAEVX,IACDA,EAAAG,kBAAAF,GACHC,EAASjB,OAAA0B,OAAA,8BAGNT,MAAuBF,EAAA,IAC1Ba,QAAMC,KAAM,CACZd,OACHC,MAEGC,cAGAa,Y,sBAEkB,K,MAKdC,EAAIpB,KAAAqB,UACAJ,S,aAEPK,QAAA,IAAAF,I,2BAEsB,E,sBACXhC,GAAS,SAAM,K,6BAYJ,GAAS,I,EACjBC,OAAAC,QAAA,4FASbiC,GAAsBC,0BAEtBD,IACJ3B,cAAAG,KAAA,eAAAU,SAEAQ,QAAaP,SAAA,CAAUC,EAAIC,KACTzB,EAAA,gCACIwB,EAAQN,6CAEpBM,EAAON,YAAYM,EAAIL,4DAGjCK,EAAAP,KAAA,qD","sources":["src/main.js"],"sourcesContent":["﻿$('.activate_reset').on('click', () => {\r\n    let determine_reset = window.confirm(`\r\n        警告：\r\n        重置后，所有设置将回到默认状态！\r\n        请准备好后按确定以清空本网页Cookie。`);\r\n    if(determine_reset) {\r\n        window.onbeforeunload = () => {\r\n            localStorage.removeItem('x');   //清空网页缓存\r\n        }\r\n    }\r\n    location.reload(); \r\n})\r\n\r\nconst $icon_wrapper = $('.icon_wrapper');\r\nconst $icon_close = $('.icon_close');\r\nconst $add_url = $icon_wrapper.find('.add_url');\r\nconst xObject = JSON.parse(localStorage.getItem('x'));  //getItem从localStorage中取出'x'的信息，然后用parse转化为数组\r\nconst hashMap = xObject || [\r\n    {\r\n        name: 'MDN中文', url: 'developer.mozilla.org', shortcuts: 'm'\r\n    },\r\n    {\r\n        name: '写代码啦', url: 'xiedaimala.com', shortcuts: 'x'\r\n    }\r\n]\r\n\r\nlet removeOfBeginning = (url) => {\r\n    //看了前航视频下，从九行代码改成一行代码，原来replace留下的undefined是这么解决的！\r\n    return url.replace('https://', '').replace('http://', '').replace('www.', '');\r\n}\r\n\r\nlet render = () => {\r\n    $icon_wrapper.find('.icon_close').remove();\r\n    hashMap.forEach((node, index) => {\r\n        const $icon_Click = $(`\r\n            <div href=\"${node.url}\" class=\"icon_Click icon_close\" title=\"${node.url}快捷键为: ${node.shortcuts}\">\r\n                <span class=\"icon_icon\">${node.name[0]}</span>\r\n                <span class=\"text\">${node.name}</span>\r\n            </div>\r\n        `).insertBefore($add_url);\r\n        $icon_Click.on('click', ()=> {\r\n            window.open(node.url);  //新窗口打开网页\r\n        })\r\n    });\r\n}\r\n\r\nrender();\r\n\r\n$add_url.on('click', () => {\r\n    let url = window.prompt('请粘贴或手动输入网址');\r\n    if(url.indexOf('http') !== 0) {\r\n        url = 'https://' + url;\r\n    }\r\n    let name = window.prompt('请输入网址名称，不输入则以网址作为名称，同时以网址首字母作为快捷键，快捷键冲突时进入第一个对应网站');\r\n    let shortcuts;\r\n    if(!name) {\r\n        name = removeOfBeginning(url);\r\n        shortcuts = window.prompt('请输入单字母快捷键，不输入则以网址首字母作为快捷键');\r\n    }\r\n    if(!shortcuts) {\r\n        shortcuts = name[0]\r\n    }\r\n    hashMap.push({\r\n        name: name,\r\n        url: url,\r\n        shortcuts: shortcuts\r\n    });\r\n    render();\r\n})\r\n\r\nwindow.onbeforeunload = () => {\r\n    const string = JSON.stringify(hashMap); //将hashMap变为字符串，存入string\r\n    localStorage.setItem('x', string);  //将所有string信息缓存到'x'\r\n}\r\n\r\nlet number_activate_delete = 0;\r\n\r\n$('.activate_delete').on('click', () => {   //40行。。。算了暂时先这样吧\r\n    let delete_confirm;\r\n    if(number_activate_delete%2 === 0) {\r\n        delete_confirm = window.confirm(`\r\n            警告：\r\n            点击×后，将直接移除标签。\r\n            再次点击回收站或刷新网页，退出删除状态。\r\n        `);\r\n        if (delete_confirm) {\r\n            number_activate_delete++;\r\n        }\r\n    }\r\n    if(delete_confirm) {\r\n        $icon_wrapper.find('.icon_close').remove();\r\n        hashMap.forEach((node, index) => {\r\n            const $icon_Click = $(`\r\n                <div href=\"${node.url}\" class=\"icon_Click icon_close\" title=\"${node.url}快捷键为: ${node.shortcuts}\">\r\n                    <span class=\"icon_icon\">${node.name[0]}</span>\r\n                    <span class=\"text\">${node.name}</span>\r\n                    <div class=\"delete_url icon_${index}\">\r\n                        <svg class=\"icon\" style=\"width:2em; height:2em;\">\r\n                            <use xlink:href=\"#icon-add\"></use>\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n            `).insertBefore($add_url);\r\n            $icon_Click.on('click', '.delete_url', (e) => {\r\n                $(`\r\n                    <span class=\"delete_victory\" style=\"color: red;font-size: 17px;\">\r\n                        删除成功\r\n                    </span>\r\n                `).insertBefore($(`.icon_${index}`));\r\n                hashMap.splice(index, 1);\r\n            })\r\n        });\r\n    }\r\n    $('.activate_delete').on('click', () => {\r\n        location.reload(); \r\n    })\r\n})\r\n\r\n$(document).on('keypress', (e)=>{\r\n    const {key} = e;\r\n    for (let i = 0; i < hashMap.length; i++) {\r\n        if(hashMap[i].shortcuts === key) {\r\n            window.open(hashMap[i].url)\r\n        }\r\n    }\r\n})"],"names":["$","on","window","confirm","onbeforeunload","localStorage","removeItem","location","reload","$icon_wrapper","$icon_close","$add_url","find","JSON","parse","getItem","xObject","name","url","shortcuts","removeOfBeginning","replace","remove","forEach","node","index","insertBefore","open","prompt","indexOf","hashMap","push","render","string","stringify","setItem","delete_confirm","number_activate_delete"],"version":3,"file":"index.7e443719.js.map"}